<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mainTitle</title>
</head>
<body>
    <div>
        <h1>Student Marks Table</h1>
    </div>
    <div onClick="addStudentData()">
        <button>Add Student</button>
    </div>

    <table border="1" cellpadding = "8" id ="table">
        <thead>
            <tr>
                <th>Student Name</th>
                <th>Subject 1</th>
                <th>Subject 2</th>
                <th>Subject 3</th>
                <th>Subject 4</th>
                <th>Subject 5</th>
                <th>Total Marks</th>
                <th>Average Marks</th>
            </tr>
        </thead>

        <tbody id="table-body">
        </tbody>

    </table>

    <script>

        window.onload = function() {
            loadTableData();
        };

        function addStudentData(){
            var name = (prompt("Enter student name"));
            var marks1 = parseInt(prompt("Enter your subject1 mark"));
            var marks2 = parseInt(prompt("Enter your subject2 mark"));
            var marks3 = parseInt(prompt("Enter your subject3 mark"));
            var marks4 = parseInt(prompt("Enter your subject4 mark"));
            var marks5 = parseInt(prompt("Enter your subject5 mark"));



            if(isNaN(marks1) || isNaN(marks2) || isNaN(marks3) || isNaN(marks4) || isNaN(marks5)){
                alert("Enter valid number");
                return false;
            }

            var totalMarks = marks1 + marks2 + marks3 + marks4 + marks5;
            var averageMarks = (totalMarks)/5;

            var student = {
                name,
                marks1,
                marks2,
                marks3,
                marks4,
                marks5,
                totalMarks,
                averageMarks
            };

            var students = JSON.parse(localStorage.getItem("students")) || [];

            students.push(student);

            localStorage.setItem("students", JSON.stringify(students));

            displayStudent(student);

        }

        function displayStudent(student) {
            var tableBody = document.getElementById("table-body");
            var row = tableBody.insertRow();

            row.insertCell(0).innerHTML = student.name;
            row.insertCell(1).innerHTML = student.marks1;
            row.insertCell(2).innerHTML = student.marks2;
            row.insertCell(3).innerHTML = student.marks3;
            row.insertCell(4).innerHTML = student.marks4;
            row.insertCell(5).innerHTML = student.marks5;
            row.insertCell(6).innerHTML = student.totalMarks;
            row.insertCell(7).innerHTML = student.averageMarks.toFixed(2);
        }
            
        function loadTableData() {
            var students = JSON.parse(localStorage.getItem("students")) || [];
            students.forEach(displayStudent);
        }
            // var table = document.getElementById("table");
            // var row = table.insertRow(-1);
            // var cell1 = row.insertCell(0);
            // var cell2 = row.insertCell(1);
            // var cell3 = row.insertCell(2);
            // var cell4 = row.insertCell(3);
            // var cell5 = row.insertCell(4);
            // var cell6 = row.insertCell(5);
            // var cell7 = row.insertCell(6);
            // var cell8 = row.insertCell(7);

            // cell1.innerHTML = name;
            // cell2.innerHTML = marks1;
            // cell3.innerHTML = marks2;
            // cell4.innerHTML = marks3;
            // cell5.innerHTML = marks4;
            // cell6.innerHTML = marks5;
            // cell7.innerHTML = totalMarks;
            // cell8.innerHTML = averageMarks;
            
    </script>
</body>
</html>